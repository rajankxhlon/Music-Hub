<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Hub - About Us</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6a0dAD; /* Deep Purple */
            --secondary-color: #ff69b4; /* Hot Pink */
            --accent-color: #8a2be2; /* Blue Violet */
            --text-color: #ffffff;
            --header-bg: rgba(0, 0, 0, 0.3); /* Slightly transparent dark for header */
            --main-bg-card: rgba(255, 255, 255, 0.1); /* Frosted glass effect for main cards */
            --input-bg: rgba(255, 255, 255, 0.15); /* Slightly less transparent for input */
            --button-bg: linear-gradient(to right, var(--secondary-color), var(--primary-color));
            --button-hover-bg: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            --footer-height: 70px; /* Define footer height for padding adjustments */
            --miniplayer-height: 55px; /* Adjusted Mini Player Height for Mobile */
        }

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background: linear-gradient(135deg, #1e003a, #5b0060, #9f00a5); /* Same vibrant background */
            color: var(--text-color);
            box-sizing: border-box;
            overflow-x: hidden; /* Prevent horizontal scroll */
            padding-bottom: var(--footer-height); /* Padding for the fixed footer */
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg width="100%" height="100%" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><defs><filter id="f1" x="0" y="0"><feTurbulence type="fractalNoise" baseFrequency="0.005 0.005" numOctaves="2" seed="0" result="turb"/><feDiffuseLighting in="turb" lightingColor="white" surfaceScale="10" result="light"><feDistantLight azimuth="235" elevation="60"/></feDiffuseLighting><feComposite in="SourceGraphic" in2="light" operator="arithmetic" k1="1" k2="0" k3="0" k4="0"/></filter></defs><rect width="100%" height="100%" fill="none" filter="url(%23f1)"/></svg>') no-repeat center center/cover;
            opacity: 0.1;
            animation: backgroundPan 30s linear infinite alternate;
            z-index: -1;
        }

        @keyframes backgroundPan {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        header {
            background-color: var(--header-bg);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        header .logo {
            max-width: 45px;
            height: auto;
            display: block;
        }

        .page-title {
            font-size: 1.5em;
            font-weight: 600;
            color: var(--text-color);
            text-align: center;
            flex-grow: 1;
        }

        main {
            flex-grow: 1;
            padding: 30px 20px;
            max-width: 800px;
            width: 100%;
            margin: 20px auto;
            box-sizing: border-box;
            background-color: var(--main-bg-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .about-section h2, .contact-section h2 {
            font-size: 2em;
            font-weight: 700;
            color: var(--secondary-color);
            text-align: center;
            margin-bottom: 25px;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }

        .about-section p {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: justify;
            color: rgba(255, 255, 255, 0.85);
        }
        .about-section p.loading-text {
            text-align: center;
            font-style: italic;
            color: rgba(255, 255, 255, 0.6);
        }


        .contact-section {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .social-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin-top: 30px;
        }

        .social-links.loading-text {
            text-align: center;
            font-style: italic;
            color: rgba(255, 255, 255, 0.6);
        }

        .social-link-item {
            background-color: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(5px);
            border-radius: 12px;
            padding: 15px 20px;
            text-decoration: none;
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            min-width: 120px; /* Ensure a consistent minimum width */
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .social-link-item::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: all 0.7s ease-out;
            transform: translate(-50%, -50%) scale(0);
            z-index: 0;
            opacity: 0;
        }

        .social-link-item:hover::before {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .social-link-item:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            background-color: rgba(255, 255, 255, 0.15);
        }

        .social-link-item svg {
            width: 45px;
            height: 45px;
            margin-bottom: 10px;
            fill: var(--secondary-color);
            transition: fill 0.3s ease, transform 0.3s ease;
            z-index: 1;
            position: relative;
        }

        .social-link-item:hover svg {
            fill: var(--primary-color);
            transform: rotateY(180deg);
        }

        .social-link-item span {
            font-size: 1em;
            font-weight: 600;
            color: var(--text-color);
            z-index: 1;
            position: relative;
        }

        /* Footer styles */
        .app-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: var(--footer-height);
            background-color: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.4);
            z-index: 250;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .app-footer .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8em;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .app-footer .nav-item:hover,
        .app-footer .nav-item.active {
            color: var(--secondary-color);
        }

        .app-footer .nav-item svg {
            width: 28px;
            height: 28px;
            margin-bottom: 5px;
            transition: fill 0.2s ease;
        }

        .app-footer .nav-item:hover svg,
        .app-footer .nav-item.active svg {
            fill: var(--secondary-color);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            header {
                padding: 10px 15px;
            }
            .page-title {
                font-size: 1.3em;
            }
            main {
                padding: 20px 15px;
                margin: 15px auto;
                max-width: 90%;
            }
            .about-section h2, .contact-section h2 {
                font-size: 1.8em;
                margin-bottom: 20px;
            }
            .about-section p {
                font-size: 1em;
            }
            .social-link-item {
                padding: 12px 18px;
                min-width: 100px;
            }
            .social-link-item svg {
                width: 40px;
                height: 40px;
                margin-bottom: 8px;
            }
            .social-link-item span {
                font-size: 0.9em;
            }
            .social-links {
                gap: 20px;
            }
        }

        @media (max-width: 480px) {
            header {
                padding: 8px 8px;
            }
            header .logo {
                max-width: 35px;
            }
            .page-title {
                font-size: 1em;
            }
            main {
                padding: 15px 10px;
                margin: 10px auto;
                max-width: 95%;
            }
            .about-section h2, .contact-section h2 {
                font-size: 1.5em;
                margin-bottom: 15px;
            }
            .about-section p {
                font-size: 0.9em;
                line-height: 1.6;
            }
            .social-link-item {
                padding: 10px 15px;
                min-width: 80px;
            }
            .social-link-item svg {
                width: 35px;
                height: 35px;
                margin-bottom: 5px;
            }
            .social-link-item span {
                font-size: 0.8em;
            }
            .social-links {
                gap: 15px;
            }
            .app-footer .nav-item svg {
                width: 22px;
                height: 22px;
            }
        }
    </style>
</head>
<body>
    <header>
        <img src="logo.png" alt="MelodyStream Logo" class="logo">
        <span class="page-title">About Music Hub</span>
    </header>

    <main>
        <section class="about-section">
            <h2>About Music Hub</h2>
            <div id="aboutDescriptionContainer">
                <p class="loading-text">Loading description...</p>
            </div>
        </section>

        ---

        <section class="contact-section">
            <h2>Contact Us</h2>
            <p style="text-align: center; margin-bottom: 30px; color: rgba(255, 255, 255, 0.7);">Connect with us on our social media platforms for updates, support, and more!</p>
            <div class="social-links" id="socialLinksContainer">
                <p class="loading-text">Loading social links...</p>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <a href="home.html" class="nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            <span>Home</span>
        </a>
        <a href="search.html" class="nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <span>Search</span>
        </a>
        <a href="profile.html" class="nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            <span>Profile</span>
        </a>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script>
        // Firebase Configuration - Your actual credentials here
        const firebaseConfig = {
            apiKey: "AIzaSyBzdm1Qjgxqb6v8tYUJ4d5KTTgfYLjDbe0",
            authDomain: "rkchat-2319f.firebaseapp.com",
            projectId: "rkchat-2319f",
            storageBucket: "rkchat-2319f.firebasestorage.app",
            messagingSenderId: "1023660188375",
            appId: "1:1023660188375:web:5e1884a6d1b5aaadbb8692"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(); // We only need firestore for this page

        const aboutDescriptionContainer = document.getElementById('aboutDescriptionContainer');
        const socialLinksContainer = document.getElementById('socialLinksContainer');

        // SVG icons for social media
        const socialMediaIcons = {
            instagram: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7.8 2c-2.48 0-4.5 2.02-4.5 4.5v9c0 2.48 2.02 4.5 4.5 4.5h9c2.48 0 4.5-2.02 4.5-4.5v-9c0-2.48-2.02-4.5-4.5-4.5zm0 2h9c1.37 0 2.5 1.13 2.5 2.5v9c0 1.37-1.13 2.5-2.5 2.5h-9c-1.37 0-2.5-1.13-2.5-2.5v-9c0-1.37 1.13-2.5 2.5-2.5zM12 9.5c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5zm0 2c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm6.5-7h-1v-1h1v1z"/></svg>`,
            youtube: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 15l5.19-3L10 9v6zM22 3.47a.75.75 0 0 0-.75-.75H2.75a.75.75 0 0 0-.75.75v17.06c0 .41.34.75.75.75h18.5c.41 0 .75-.34.75-.75V3.47zm-1 16.53H3V4.47h18v15.53z"/></svg>`,
            telegram: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.36 8.95l-5.07 2.12c-.52.22-.92.05-.99-.54l-.45-2.73c-.07-.44.25-.56.59-.44l4.28 1.62c.31.12.55.03.62-.24.08-.28-.06-.55-.38-.67l-3.35-1.27c-.29-.11-.53-.25-.42-.38l.63-.44c.14-.1.3-.13.43-.07l4.02 2.47c.36.22.25.43-.16.32z"/></svg>`,
            tiktok: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.3 2.15c.34-.08.6-.35.6-.7C12.9 1.15 12.6 1 12.3 1s-.6.15-.6.3C11.7 1.8 11.96 2.07 12.3 2.15zM12 4.1c.34-.08.6-.35.6-.7C12.6 2.9 12.3 2.75 12 2.75s-.6.15-.6.3C11.4 3.4 11.66 3.67 12 3.75zM12 6.1c.34-.08.6-.35.6-.7C12.6 4.9 12.3 4.75 12 4.75s-.6.15-.6.3C11.4 5.4 11.66 5.67 12 5.75zM12 8.1c.34-.08.6-.35.6-.7C12.6 6.9 12.3 6.75 12 6.75s-.6.15-.6.3C11.4 7.4 11.66 7.67 12 7.75zM12 10.1c.34-.08.6-.35.6-.7C12.6 8.9 12.3 8.75 12 8.75s-.6.15-.6.3C11.4 9.4 11.66 9.67 12 9.75zM12 12.1c.34-.08.6-.35.6-.7C12.6 10.9 12.3 10.75 12 10.75s-.6.15-.6.3C11.4 11.4 11.66 11.67 12 11.75zM12 14.1c.34-.08.6-.35.6-.7C12.6 12.9 12.3 12.75 12 12.75s-.6.15-.6.3C11.4 13.4 11.66 13.67 12 13.75zM12 16.1c.34-.08.6-.35.6-.7C12.6 14.9 12.3 14.75 12 14.75s-.6.15-.6.3C11.4 15.4 11.66 15.67 12 15.75zM12 18.1c.34-.08.6-.35.6-.7C12.6 16.9 12.3 16.75 12 16.75s-.6.15-.6.3C11.4 17.4 11.66 17.67 12 17.75zM12 20.1c.34-.08.6-.35.6-.7C12.6 18.9 12.3 18.75 12 18.75s-.6.15-.6.3C11.4 19.4 11.66 19.67 12 19.75zM12 22.1c.34-.08.6-.35.6-.7C12.6 20.9 12.3 20.75 12 20.75s-.6.15-.6.3C11.4 21.4 11.66 21.67 12 21.75z"/></svg>`
        };

        // Function to fetch and display About page content
        async function loadAboutPageContent() {
            try {
                // Fetch the aboutInfo document from the 'appSettings' collection
                const docRef = db.collection('appSettings').doc('aboutInfo');
                const doc = await docRef.get();

                if (doc.exists) {
                    const data = doc.data();

                    // --- Update About Description ---
                    if (data.aboutDescription) {
                        // Replace newline characters with <br> for proper display
                        const formattedDescription = data.aboutDescription.replace(/\n/g, '<br>');
                        aboutDescriptionContainer.innerHTML = `<p>${formattedDescription}</p>`;
                    } else {
                        aboutDescriptionContainer.innerHTML = `<p class="loading-text">About description not set by admin.</p>`;
                    }

                    // --- Update Social Media Links ---
                    socialLinksContainer.innerHTML = ''; // Clear loading text
                    if (data.socialMediaLinks && Array.isArray(data.socialMediaLinks) && data.socialMediaLinks.length > 0) {
                        data.socialMediaLinks.forEach(link => {
                            const iconSvg = socialMediaIcons[link.platform.toLowerCase()] || ''; // Get SVG based on platform
                            if (iconSvg) { // Only create link if we have an icon for it
                                const linkItem = document.createElement('a');
                                linkItem.href = link.url || '#';
                                linkItem.target = "_blank"; // Open in new tab
                                linkItem.classList.add('social-link-item');
                                linkItem.innerHTML = `
                                    ${iconSvg}
                                    <span>${link.name || 'Link'}</span>
                                    ${link.handle ? `<span>${link.handle}</span>` : ''}
                                `;
                                socialLinksContainer.appendChild(linkItem);
                            }
                        });
                    } else {
                        socialLinksContainer.innerHTML = `<p class="loading-text">Social media links not set by admin.</p>`;
                    }

                } else {
                    console.log("No 'aboutInfo' document found in 'appSettings' collection.");
                    aboutDescriptionContainer.innerHTML = `<p class="loading-text">No about information available. Please contact support.</p>`;
                    socialLinksContainer.innerHTML = `<p class="loading-text">No social media links available.</p>`;
                }
            } catch (error) {
                console.error("Error fetching about page content:", error);
                aboutDescriptionContainer.innerHTML = `<p class="loading-text">Error loading description. Please try again later.</p>`;
                socialLinksContainer.innerHTML = `<p class="loading-text">Error loading social links. Please try again later.</p>`;
            }
        }

        // Call the function to load content when the page loads
        document.addEventListener('DOMContentLoaded', loadAboutPageContent);
    </script>
</body>
</html>